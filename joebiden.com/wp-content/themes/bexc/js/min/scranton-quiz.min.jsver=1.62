document.getElementById("quiz-make-a-plan")&&function(){"use strict";const e=document.getElementById("quiz-data"),t=document.getElementById("quiz-body-wrap"),n=document.getElementById("quiz-progress-bar"),i=document.getElementById("quiz-nav"),s=document.getElementById("quiz-footer"),r=document.querySelectorAll('[id^="quiz-answer-input-"]'),o=document.getElementById("quiz-start"),a=document.getElementById("quiz-next"),l=document.getElementById("quiz-back"),u=document.getElementById("quiz-finish"),c=document.getElementById("quiz-signup"),d=document.getElementById("quiz-form-error"),g=document.getElementById("zip"),m=document.getElementById("email"),p=document.getElementById("mobile"),f=document.getElementById("custom-18534"),h=document.getElementById("quiz-submit"),y=(document.getElementById("quiz-results"),document.getElementById("quiz-other-results")),v=document.querySelectorAll('[id^="quiz-top-result-"]'),q=document.querySelectorAll('[id^="quiz-other-result-"]'),z=document.querySelectorAll('[id^="quiz-voting-option-"]'),E=document.querySelectorAll('[id^="quiz-vvo-long-desc-"]'),I=document.querySelectorAll('[id^="quiz-vvo-state-special-addl-text-"]'),w=document.getElementById("quiz-state-vote-info-links"),A=document.getElementById("quiz-svi-2-links"),B={get quizData(){return JSON.parse(e.dataset.quiz)},get votingOptionsData(){return JSON.parse(e.dataset.votingOptions)},get statesData(){return JSON.parse(e.dataset.states)},get defaultResultsPreference(){return JSON.parse(e.dataset.defaultResultsPreference)},get selectedAnswers(){const e=document.querySelectorAll("[data-quizanswerinput]:checked"),t=[];return e.forEach((function(e){const n=JSON.parse(e.value);t.push(n)})),t.flat()},get resultTallies(){const e={early:0,mail:0,eday:0};this.selectedAnswers.forEach((function(t){"early"===t&&e.early++,"mail"===t&&e.mail++,"eday"===t&&e.eday++}));return this.resultPreference.map((function(t){return[t,e[t]]})).sort((function(e,t){return t[1]-e[1]}))},get resultPreference(){let e;return e=this.stateObj?this.stateObj.results_preference:this.defaultResultsPreference,e.map((function(e){return e.voting_option}))},get results(){return this.resultTallies.map((function([e,t]){return e}))},get topResult(){return this.results[0]},get formUrl(){return this.votingOptionsData[this.results[0]].bsd_form_url},get resultFormVal(){return{mail:"VBM",early:"EV",eday:"E-Day"}[this.topResult]},get stateObj(){var e=this;return this.statesData.find((function(t){return t.state===e.state}))},get stateVotingInfoLinks(){return this.stateObj&&this.stateObj.stateVotingInfoLinks||[]},get nudge(){const{stateObj:e}=this;if(!e)return null;const t=e.nudge,n=e.nudge_voting_option;return t&&n&&this.resultPreference.includes(n)?this.topResult===n?null:{text:t,option:n}:null},get stateSpecialAddlText(){const{stateObj:e}=this;if(!e)return null;const t=e.special_additional_text,n=e.special_additional_text_voting_option;return t&&n&&this.resultPreference.includes(n)?{text:t,option:n}:null},get stateLongDescOverrides(){var e=this;const{stateObj:t}=this;if(!t)return null;const n=t.state_long_desc_overrides;return n.length?n.map((function(t){if(e.resultPreference.includes(t.voting_option))return{text:t.override_text,option:t.voting_option}})):null},get state(){const e=g.value,t=parseInt(e,10);let n,i;return t>=35e3&&t<=36999?(n="AL",i="Alabama"):t>=99500&&t<=99999?(n="AK",i="Alaska"):t>=85e3&&t<=86999?(n="AZ",i="Arizona"):t>=71600&&t<=72999?(n="AR",i="Arkansas"):t>=9e4&&t<=96699?(n="CA",i="California"):t>=8e4&&t<=81999?(n="CO",i="Colorado"):t>=6e3&&t<=6999?(n="CT",i="Connecticut"):t>=19700&&t<=19999?(n="DE",i="Delaware"):t>=32e3&&t<=34999?(n="FL",i="Florida"):t>=3e4&&t<=31999?(n="GA",i="Georgia"):t>=96700&&t<=96999?(n="HI",i="Hawaii"):t>=83200&&t<=83999?(n="ID",i="Idaho"):t>=6e4&&t<=62999?(n="IL",i="Illinois"):t>=46e3&&t<=47999?(n="IN",i="Indiana"):t>=5e4&&t<=52999?(n="IA",i="Iowa"):t>=66e3&&t<=67999?(n="KS",i="Kansas"):t>=4e4&&t<=42999?(n="KY",i="Kentucky"):t>=7e4&&t<=71599?(n="LA",i="Louisiana"):t>=3900&&t<=4999?(n="ME",i="Maine"):t>=20600&&t<=21999?(n="MD",i="Maryland"):t>=1e3&&t<=2799?(n="MA",i="Massachusetts"):t>=48e3&&t<=49999?(n="MI",i="Michigan"):t>=55e3&&t<=56999?(n="MN",i="Minnesota"):t>=38600&&t<=39999?(n="MS",i="Mississippi"):t>=63e3&&t<=65999?(n="MO",i="Missouri"):t>=59e3&&t<=59999?(n="MT",i="Montana"):t>=27e3&&t<=28999?(n="NC",i="North Carolina"):t>=58e3&&t<=58999?(n="ND",i="North Dakota"):t>=68e3&&t<=69999?(n="NE",i="Nebraska"):t>=88900&&t<=89999?(n="NV",i="Nevada"):t>=3e3&&t<=3899?(n="NH",i="New Hampshire"):t>=7e3&&t<=8999?(n="NJ",i="New Jersey"):t>=87e3&&t<=88499?(n="NM",i="New Mexico"):t>=1e4&&t<=14999?(n="NY",i="New York"):t>=43e3&&t<=45999?(n="OH",i="Ohio"):t>=73e3&&t<=74999?(n="OK",i="Oklahoma"):t>=97e3&&t<=97999?(n="OR",i="Oregon"):t>=15e3&&t<=19699?(n="PA",i="Pennsylvania"):t>=300&&t<=999?(n="PR",i="Puerto Rico"):t>=2800&&t<=2999?(n="RI",i="Rhode Island"):t>=29e3&&t<=29999?(n="SC",i="South Carolina"):t>=57e3&&t<=57999?(n="SD",i="South Dakota"):t>=37e3&&t<=38599?(n="TN",i="Tennessee"):t>=75e3&&t<=79999||t>=88500&&t<=88599?(n="TX",i="Texas"):t>=84e3&&t<=84999?(n="UT",i="Utah"):t>=5e3&&t<=5999?(n="VT",i="Vermont"):t>=22e3&&t<=24699?(n="VA",i="Virgina"):t>=2e4&&t<=20599?(n="DC",i="Washington DC"):t>=98e3&&t<=99499?(n="WA",i="Washington"):t>=24700&&t<=26999?(n="WV",i="West Virginia"):t>=53e3&&t<=54999?(n="WI",i="Wisconsin"):t>=82e3&&t<=83199?(n="WY",i="Wyoming"):(n="none",i="none"),n}};function b(){const e=Array.from(arguments);e.forEach((function(e){return e&&e.classList.remove("quiz__hidden")}))}function k(){const e=Array.from(arguments);e.forEach((function(e){return e&&e.classList.add("quiz__hidden")}))}function x(e){v.forEach((function(e){return k(e)})),q.forEach((function(e){return k(e)}));const t=e,n=t.shift();if(b(document.getElementById("quiz-top-result-"+n)),b(document.getElementById("quiz-long-desc-"+n)),0!==t.length){if(t.length>1&&B.nudge&&t[0]!==B.nudge.option){const e=t[0];t[0]=t[1],t[1]=e}t.forEach((function(e,n){const i=document.getElementById("quiz-other-result-"+e);b(i),t.length>1&&i.classList.add("quiz__other-result__order-".concat(n+1))}))}else k(y)}function M(){x(B.results),B.stateLongDescOverrides&&B.stateLongDescOverrides.forEach((function(e){e&&(document.getElementById("quiz-long-desc-copy-".concat(e.option)).innerHTML=(new DOMParser).parseFromString(e.text,"text/html").body.innerHTML,document.getElementById("quiz-vvo-long-desc-copy-".concat(e.option)).innerHTML=(new DOMParser).parseFromString(e.text,"text/html").body.innerHTML)})),B.nudge&&(document.getElementById("quiz-nudge-".concat(B.nudge.option)).innerHTML=(new DOMParser).parseFromString(B.nudge.text,"text/html").body.innerHTML),function(){if(!B.stateSpecialAddlText)return;const e=B.stateSpecialAddlText.option;if(document.getElementById("quiz-vvo-state-special-addl-text-".concat(B.stateSpecialAddlText.option)).innerHTML=(new DOMParser).parseFromString(B.stateSpecialAddlText.text,"text/html").body.innerHTML,e===B.topResult){const t=document.getElementById("quiz-state-special-addl-text-".concat(e));t.innerHTML=(new DOMParser).parseFromString(B.stateSpecialAddlText.text,"text/html").body.innerHTML,b(t)}}(),function(){const e=B.stateObj&&B.stateObj.voting_info_links;e&&(e.forEach((function(e,t){const n=document.getElementById("quiz-state-vote-info-link-".concat(t)),i=document.getElementById("quiz-svi-a-".concat(t)),s=document.getElementById("quiz-svi-cta-copy-".concat(t));i.target=e.link.target,i.rel="_blank"===e.link.target?"noopener":"",i.href=e.link.url,s.innerHTML=(new DOMParser).parseFromString(e.cta_copy,"text/html").body.innerHTML,b(n,i,s);const r=document.getElementById("quiz-svi-2-link-".concat(t)),o=document.getElementById("quiz-svi-2-a-".concat(t)),a=document.getElementById("quiz-svi-2-cta-copy-".concat(t));o.target=e.link.target,o.rel="_blank"===e.link.target?"noopener":"",o.href=e.link.url,a.innerHTML=(new DOMParser).parseFromString(e.cta_copy,"text/html").body.innerHTML,b(r,o,a)})),b(w,A))}(),O.updateAutoHeight()}const O=new Swiper(".quiz-swiper-container",{speed:400,spaceBetween:100,simulateTouch:!1,noSwiping:!0,autoHeight:!0,updateOnWindowResize:!0,preloadImages:!0,updateOnImagesReady:!0,preventInteractionOnTransition:!0,pagination:{el:".quiz-swiper-pagination",modifierClass:"quiz-swiper-pagination-",progressbarFillClass:"quiz-swiper-pagination-progressbar-fill",hideOnClick:!1,type:"progressbar"},containerModifierClass:"quiz-swiper-container-",slideClass:"quiz-swiper-slide",slideActiveClass:"quiz-swiper-slide-active",slideDuplicateActiveClass:"quiz-swiper-slide-duplicate-active",slideVisibleClass:"quiz-swiper-slide-visible",slideDuplicateClass:"quiz-swiper-slide-duplicate",slideNextClass:"quiz-swiper-slide-next",slideDuplicateNextClass:"quiz-swiper-slide-duplicate-next",slidePrevClass:"quiz-swiper-slide-prev",slideDuplicatePrevClass:"quiz-swiper-slide-duplicate-prev",slideBlankClass:"quiz-swiper-slide-invisible-blank",wrapperClass:"quiz-swiper-wrapper",on:{slideChange:function(){this.updateAutoHeight(),window.scroll({top:0,behavior:"smooth"})},slideChangeTransitionStart:function(){const e=O.slides.length,r=e-4,l=e-3,c=e-2,d=e-1;switch(O.realIndex){case 0:k(i,n,a,u,h),b(o);break;case r:b(i,n,u),k(a,h);break;case l:k(a,u),b(i,n,h);break;case c:k(i,n,s),t.classList.add("quiz__body-wrap--results-slide");break;case d:b(i),t.classList.add("quiz__body-wrap--results-slide");break;default:b(i,n,a),k(o,u,h)}},slidePrevTransitionEnd:function(){const e=O.slides.length-1;O.previousIndex===e&&(z.forEach((function(e){return k(e)})),E.forEach((function(e){return k(e)})),I.forEach((function(e){return k(e)})))}}});function L(){const e=g.value,t=m.value,n=p.value,i=!!(s=e)&&/^\d{5}(-\d{4})?$/.test(s);var s;const r=!(o=t)||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(o).toLowerCase());var o;const a=!(l=n)||/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(l);var l;const u="none"!==B.state;return i&&u&&r&&a&&(t||n)}function S(e){const t=e.target.dataset.questionI,n=document.getElementById("quiz-voter-tip-"+t);n&&b(n),O.updateAutoHeight()}function _(){O.activeIndex;O.slideNext()}function T(e){const t=e.target;if("A"===t.tagName||"SPAN"===t.tagName)return;!function(e){if(e){b(document.getElementById("quiz-voting-option-"+e),document.getElementById("quiz-vvo-long-desc-"+e),document.getElementById("quiz-vvo-long-desc-copy-"+e),document.getElementById("quiz-vvo-state-special-addl-text-".concat(e)))}}(t.closest("[data-or-option-key]").dataset.orOptionKey),O.slideNext()}r&&r.forEach((function(e){return e.addEventListener("click",S)})),o&&o.addEventListener("click",(function(){O.slideNext()})),a&&a.addEventListener("click",_),l&&l.addEventListener("click",(function(){O.slidePrev()})),u&&u.addEventListener("click",_),h&&h.addEventListener("click",(function(){var e,t;f.value=B.resultFormVal,L()?(k(d),e=B.formUrl,(t=new XMLHttpRequest).open("POST",e,!0),t.send(new FormData(c)),M(),O.slideNext()):(b(d),O.updateAutoHeight())})),q&&q.forEach((function(e){return e.addEventListener("click",T)})),window.addEventListener("load",(function(){return O.updateAutoHeight()}))}();